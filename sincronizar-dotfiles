#!/bin/bash

# LISTA DE ARCHIVOS QUE SIGO
# - Este (sincronizar-dotfiles)
# - configurador_automático_arch
# - Xresources
# - zshrc
# - kitty.conf
# - polybar
# - bspwm
# - sxhkd
# - nano
# - micro

echo "+----------------------+
|  1 · Sincronizar     |
|  2 · Subir a GITHUB  |
|  3 · Exportar al PC  |
+----------------------+"
read -p "Escoge: " dec 

cd $(dirname $(realpath $0))

if [ $dec -eq 1 ]; then
		sudo rsync -aAXv --delete ~/.Xresources ~/.zshrc ~/.config/kitty ~/.config/polybar ~/.config/bspwm ~/.config/sxhkd ~/.nanorc ~/.config/micro .
		ls -hNa --color=auto --group-directories-first
		
elif [ $dec -eq 2 ]; then
		git add --all ; git status; echo ""
		read -p "Commit? [Y/N]: " a; if [[ $a =~ ^[Yy]$ ]]; then git commit -m "Actualización automática"; fi
		read -p "Push? [Y/N]: " b; if [[ $b =~ ^[Yy]$ ]]; then git push origin master; fi

elif [ $dec -eq 3 ]; then
		[ ! -d "~/.config" ] && mkdir ~/.config
		sudo rsync -aAXv --delete .Xresources ~/
		sudo rsync -aAXv --delete .zshrc ~/
		sudo rsync -aAXv --delete kitty ~/.config
		sudo rsync -aAXv --delete polybar ~/.config
		sudo rsync -aAXv --delete bspwm ~/.config
		sudo rsync -aAXv --delete sxhkd ~/.config
		sudo rsync -aAXv --delete .nanorc ~/
		sudo rsync -aAXv --delete micro ~/.config

else echo "You had one job." ; fi